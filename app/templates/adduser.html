{% extends "base.html" %}
{% block content %}

    {% if form.errors %}
    <ul>
        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
            {% for error in field_errors %}
                <li>{{ form[field_name].label }}: {{ error }}</li>
            {% endfor %}
        {% endfor %}
    </ul>
{% endif %}

  <h3>Add User</h3>
  <form class="form-horizontal action="{{ url_for('add_user') }}" method="post">
    {{ form.hidden_tag() }}

      <div class="form-group">
    {{ form.username.label(class_="control-label col-xs-6") }}
          <div class="col-xs-6">
          {{ form.username(class_="form-control") }}
              </div>
     </div>
    <div class="form-group">
    {{ form.password.label(class_="control-label col-xs-6") }}
          <div class="col-xs-6">
          {{ form.password(class_="form-control") }}
              </div>
     </div>
    <div class="form-group">
    {{ form.role.label(class_="control-label col-xs-6") }}
          <div class="col-xs-6">
          {{ form.role(class_="form-control") }}
              </div>
     </div>

      <div class="form-group">
         <div class="col-xs-12">{{ form.submit(class_="form-control") }} </div>
      </div>
  </form>
    <hr size="2">
  <h2>Existing Users:</h2>
  <table class="table table-responsive">
    <thread>
        <tr>
            <th><strong>Username</strong></th>
            <th><b>Role</b></th>
        </tr>
    </thread>
    {% for user in users %}
    <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.role }}</td>
    </tr>
    {% endfor %}
  </table>
{% endblock %}